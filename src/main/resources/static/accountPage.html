<!doctype html>
<html>
    <head>
        <title> Account </title>
        <link rel="stylesheet" href="css/common.css">
    </head>

    <body style="background-color: dodgerblue;">

        <div id="signupLoader" 
                    style="
                    position: fixed; display: none; align-items: center; justify-content: center;
                    opacity: 0.4; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 100%; 
                    height: 100%; background-color: gray; z-index: 9999 !important;"
                    >
                <div class="loader" style="opacity: 1;"></div>
        </div>

        <div></div>
        
        <div class = "header">
            <a href="/" style="display: inline-block;">
                <img src="images/cloudLogo.png" class="cloudLogo" height="80">
            </a>
            <h1 class="headingText"> Cloud Banking </h1>
            <h2 class="userName" style="margin-top: 0%; margin-left: auto; margin-right: 5%;"> NULL USER </h2>
        </div>

        <div id="message">
            <h2 style="color: dodgerblue; font-size: xx-large; -webkit-text-stroke: 1px;  -webkit-text-stroke-color: dodgerblue; margin-bottom: 5px;"> 
                Welcome to Cloud Banking
            </h2>
            <h2 class="userName" style="margin-top: 0%;"> NULL USER </h2>
        </div>

        <!-- content portion -->
        <div id = "mainPage">
            <div id ="mainContent">
    
                <div class="topnav">
                    <button id="homeButton" class="tab" onclick="openTab(event, 'home')"> Home </button>
                    <button class="tab" onclick="openTab(event, 'accounts')"> Manage Accounts </button>
                    <button class="tab" onclick="openTab(event, 'pay')"> Pay </button>
                </div>
    
                <!-- TAB: HOME -->
                <div id="home" class="tabcontent" 
                style="
                width: 100%;
                height: 100%;
                "
                >   
                    <div class="emptyContainer">
                        <div class="displayEmpty"></div>
                    </div>
                    <div id="cardsContainer">
                        <div id="displayCard" style="display: flex;"></div>
                    </div>
                </div>
    
                <!-- TAB: ACCOUNTS -->
                <div id="accounts" class="tabcontent">
                    <h3 id="accountsHeader"> Manage Accounts </h3>
                    <div id="buttonsCol">
                        <button id="addCard" class="manage" onclick="openTab(event, 'createCard')"> Create Card </button>
                        <button id="editCard" class="manage" onclick="openTab(event, 'updateCard')"> Update Card </button>
                        <button id="removeCard" class="manage" onclick="openTab(event, 'deleteCard')"> Delete Card </button>
                        <button id="transactionCard" class="manage" onclick="openTab(event, 'transactions')"> Transaction History </button>
                    </div>
                </div>
    
                    <!-- creating cards -->
                <div id="createCard" class="tabcontent">
                    <form id="cardCreation">
                        <span id="maxErrorMessage"> 
                            <h3 style="color: red;"> Max Card Limit Reached! </h3>
                            <p> Please remove a card if you </br> wish to create a new card. </p>
                        </span>
    
                        <h3> Create Card</h3>
                        <input type="number" step="0.01" min="0" max="99999" id="amount" placeholder="$ Deposit Amount" style="width: 50%;" required>
                        <input type="number" id="pin" min="1000" max="9999" placeholder="Enter 4 Digit Pin" style="width: 50%;" required>
                        <label> 
                            <input type="checkbox" id="accountType">
                            Savings Account
                        </label>
                        <button type="submit" class="confirmBtn"> Confirm </button>
    
                    </form>
                </div>
    
                    <!-- updating cards -->
                <div id="updateCard" class="tabcontent" style="
                width: 100%;
                ">

                <div class="emptyContainer">
                    <div class="displayEmpty"></div>
                </div>

                <form id="updatingForm" 
                style="width: 40%; display: flex; flex-direction: column;
                gap: 10px;
                padding: 10px;
                "
                >
                    <h3> Select Card to Update </h3>
                    <div id="cardUpdating" style="width: fit-content;
                    ">
                    </div>
                    <input type="number" id="updatingPIN" placeholder="Enter PIN for Selected Card" min="1000" max="9999" required style="width:40%;">
                    <div style="width: 100%;">
                        <button onclick="window.location.reload()" style="width: 30%;" class="cancelBtn">Cancel</button>
                        <input type="reset" class="formButtons" style="width: 30%;">
                        <input type="submit" class="formButtons" style="width: 30%;">
                    </div>
                </form>

                <!-- TODO: when you switch to another tab and then go back to update account tab, this is still up -->
                <form id="changeDetails" style="width: 30%; display: none;flex-direction: column;
                gap: 10px;
                padding: 10px;
                ">
                    <h3> Enter any details you would like to change. </h3>
                    <input type="text" id="newName" style="width:40%;" placeholder="New Account Name">
                    <input type="number" id="newPin" min="1000" max="9999" style="width:40%;" placeholder="New 4 Digit Pin">
                    <label>
                        <input type="checkbox" id="isSavingAccount">
                        Savings Account </span>
                    </label>
                    <div style="width: 100%;">
                        <button onclick="window.location.reload()" style="width: 42%;" class="cancelBtn">Cancel</button>
                        <input type="submit" style="width: 42%;" class="formButtons" placeholder="Confirm">
                    </div>
                </form>

                </div>
    
                    <!-- deleting cards -->
                <div id="deleteCard" class="tabcontent" style="
                width: 100%;
                ">

                <div class="emptyContainer">
                    <div class="displayEmpty"></div>
                </div>

                    <form id="deletingForm" style="
                    width: 40%; 
                    display: flex; 
                    flex-direction: column; 
                    gap: 10px;
                    padding: 10px;
                    ">
                        <h3> Select Card to Delete </h3>
                        <div id="cardDeletion" style="width: fit-content;"></div>
                        <input type="number" id="deletePIN" min="1000" max="9999" style="width: 25%;" placeholder="Enter PIN for Selected Card" required>
                        <div style="width: 100%;">
                            <button onclick="window.location.reload()" style="width: 30%;" class="cancelBtn">Cancel</button>
                            <input type="reset" class="formButtons" style="width: 30%;">
                            <input type="submit" class="formButtons" style="width: 30%;">
                        </div>
                    </form>
                </div>

                <div id="transactions" class="tabcontent">
                    <div class="emptyContainer">
                        <div class="displayEmpty"></div>
                    </div>
                    <div>
                        <h3> Transaction History </h3>
                    </div>
                </div>
    
                <!-- TAB: PAYING -->
                <div id="pay" class="tabcontent">
                    <div class="emptyContainer">
                        <div class="displayEmpty"></div>
                    </div>
                    <h3 id="accountsHeader"> Payments </h3>
                    <div id="buttonsCol">
                        <button id="transferTab" class="manage" onclick="openTab(event, 'transfer')"> Transfer </button>
                        <button id="payTab" class="manage" onclick="openTab(event, 'paySomeone')"> Pay Someone </button>
                        <button id="depositTab" class="manage" onclick="openTab(event, 'depositMoney')"> Deposit </button>
                    </div>
                </div>

                <!-- TRANSFERRING BETWEEN ACCOUNTS -->
                <div id="transfer" class="tabcontent" style="width: 100%;">

                    <form id="transferForm" style="width: fit-content;
                    gap: 10px;
                    padding: 10px;
                    ">
                        <h4> Transfer Details </h4>
                        <div style="display: flex; flex-direction: row; gap: 20px; width: fit-content;">
                            <div style="width: 45%;">
                                <h4> From </h4>
                                <div id="sendingAccount"></div>
                            </div>
    
                            <div style="width: 45%;">
                                <h4> To </h4>
                                <div id="receivingAccount"></div>
                            </div>
                        </div>

                        <div>
                            <input id="transferAmount" min="1" step="0.01" type="number" placeholder="Amount" required>
                            <input type="submit">
                        </div>
                    </form>

                </div>

                <!-- PAY SOMEONE -->
                <div id="paySomeone" class="tabcontent" style="width: 100%; height: fit-content;">

                    <form id="payingForm" style="
                        gap: 10px;
                        padding: 10px;
                        ">
                        <h3> Pay Someone </h3>
                        <div style="display: flex; flex-direction: row; gap: 20px; width: fit-content;">
                            <div id="payerAccount" style="width: 100%;"></div>
                        </div>

                        <div>
                            <p></p>
                            <label> Account Number </label>
                            <input id="payeeAccount" type="text" minlength="9" maxlength="9" placeholder="E.G: 1234-5678" required>
                            <input id="payAmount" type="number" step="0.01" min="1" placeholder="Amount" required>
                            <input type="submit">
                        </div>
                    </form>

                </div>

                <!-- DEPOSIT MONEY -->
                <div id="depositMoney" class="tabcontent" style="width: 100%; display: flex;">
                    
                    <form id="depositForm" style="
                        gap: 10px;
                        padding: 10px;
                        ">
                        <h3> Select Deposit Account </h3>
                        <div style="display: flex; flex-direction: row; gap: 20px; width: fit-content;">
                            <div id="despoitAccounts" style="width: 100%;"></div>
                        </div>

                        <div>
                            <input type="number" id="depositPin" min="1000" max="9999" style="width: 55%;" placeholder="Enter PIN for Selected Card" required>
                            <input id="depositAmount" type="number" step="0.01" min="1" max="10000" placeholder="Amount" required>
                            <input type="submit">
                        </div>
                    </form>

                </div>
                
            </div>
            
        </div>

        <!-- footer portion -->
        <div class="footer">
            <p></p>
        </div>

        <script src="js/account.js"></script>
        <script>
            window.onload = getUserInfo;
        </script>

    </body>

</html>